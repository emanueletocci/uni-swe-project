@startuml
'https://plantuml.com/sequence-diagram

actor Utente

Utente -> RubricaView : Seleziona un contatto dalla lista
RubricaView -> RubricaController : Richiede la visualizzazione del contatto
RubricaController -> Rubrica : Recupera le informazioni del contatto
Rubrica -> Rubrica : Fa una get sulla struttura dati
Rubrica -> RubricaController : Passa le informazioni
RubricaController -> RubricaView : Aggiorna il binding
RubricaView -> Utente : Mostra il contatto con tutte le informazioni

Utente -> RubricaView : Clicca il pulsante di rimozione dai preferiti
RubricaView -> RubricaController : Segnala l'evento di rimozione
RubricaController -> RubricaView : Chiama un alert di conferma
RubricaView -> Utente : Mostra un alert di conferma
alt [conferma]
    Utente -> RubricaView : Conferma la rimozione
    RubricaView -> RubricaController : Notifica la scelta
    RubricaController -> Rubrica : Richiede la rimozione del contatto dai preferiti
    Rubrica -> Preferiti : Passa l'identificativo del contatto
    Preferiti -> Preferiti : Rimuove il contatto dalla lista dei preferiti
    Preferiti -> Rubrica : Conferma la rimozione
    Rubrica -> RubricaController : Notifica la rimozione
    RubricaController -> RubricaView : Aggiorna il binding e torna alla home
    RubricaView -> Utente : Mostra la home aggiornata con il contatto rimosso dai preferiti
else [non conferma]
    Utente -> RubricaView : Non conferma
    RubricaView -> RubricaController : Notifica la scelta
    RubricaController -> RubricaView : Aggiorna il binding e torna alla home
    RubricaView -> Utente : Mostra la home invariata
end

@enduml
